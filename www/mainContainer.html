<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="components/loader.css">
    <script src="components/loader.js"></script>
    <script>
        //
        // TODO: Write JavaScript code here
        //
        ons.bootstrap();
        // ons.disableAutoStatusBarFill();  // (Monaca enables StatusBar plugin by default)
    </script>
    
    <script src="js/mainContainer.js"></script>
    <script src="js/main_posts.js"></script>
	<script src="js/detail.js"></script>
	<script src="js/settings.js"></script>
	<script src="js/my_posts_page.js"></script>
	
	<link href="css/homePage.css" rel="stylesheet"/>
	<link href="css/post_detail.css" rel="stylesheet"/>
	<link href="css/main_posts.css" rel="stylesheet"/>
	<link href="css/settings.css" rel="stylesheet"/>
	<link href="css/my_posts_page.css" rel="stylesheet"/>
	<link href="css/home_posts.css" rel="stylesheet"/>
	
	<!-- dialog template -->
	<ons-template id="writing_post.html">
		<ons-dialog var="writing_dialog" cancelable style="height:60%">
			<ons-toolbar inline>
        		<div class="center">
          			New Post
        		</div>
            </ons-toolbar>
            <p>
            	<input class="text-input" id="new_post_title" placeholder="Title">
            </p>
            <p>
				<textarea class="textarea" id="new_post_content" placeholder="Write a new post..." ></textarea>
			</p>
			<p>
				<ons-button modifier="light" 
				style="text-align:center; 
						color:rgba(38, 100, 171, 0.81);" 
				onclick="
					$.ajax({
            			url: api_prefix + 'post',
            			type: 'POST',
            			dataType: 'json',
            			data: {
              				'title': $('#new_post_title').val(),
              				'content': $('#new_post_content').val(),
             			 	'userID': localStorage.userID
            			},
            			success: function( data, status ) {
                			if ( data.status == '1' ) {
                				writing_dialog.destroy();
                				if ( get_post_and_update ) {
                					get_post_and_update();
                				}
                			}
            			}
          			});
				">
					Submit
				</ons-button>
			</p>
		</ons-dialog>
	</ons-template>
</head>
<body>
    <!-- TODO: Please edit here -->
    <ons-sliding-menu var="slidingMenu" menu-page="menu.html" main-page="homeController.html" side="left" type="reveal" max-slide-distance="200px">
    </ons-sliding-menu>

</body>
</html>
